# JARVIS - 개인 지식 비서 기획서

## 1. 프로젝트 비전

> "기록은 하고 싶은데, 정리는 귀찮다."

사람들은 매일 영화를 보고, 책을 읽고, 맛집을 가고, 아이디어를 떠올린다.
하지만 이걸 기록하려면? 카테고리 만들고, 제목 적고, 내용 정리하고... 결국 안 한다.

**JARVIS는 이 문제를 해결한다.**

사용자가 비정형 텍스트를 던지면, AI가 알아서:
- 토픽을 추출하고
- 기존 클러스터와 대조해서 분류하고
- 웹 검색으로 정보를 보강하고
- 감상평을 구체화하고
- 나중에 흐릿한 기억만으로도 찾아준다

---

## 2. 핵심 컨셉: "던지면 정리된다"

### Before (기존 방식 - 노션 등)
```
1. "영화" 카테고리 생성
2. "취미" 상위 카테고리 생성
3. 새 페이지 생성
4. 영화 제목 입력
5. 줄거리 검색해서 복붙
6. 감상평 작성
7. 태그 달기
→ 결과: 귀찮아서 안 함
```

### After (JARVIS)
```
입력: "레전드라는 영화봄 톰하디 개멋있음"

→ JARVIS가 자동으로:
  - 토픽 추출: 영화, 레전드, 톰하디
  - 클러스터 매칭: [엔터테인먼트 > 영화 > 느와르/범죄]
  - 웹 검색: 영화 '레전드(2015)' 정보 수집
  - 문서 생성:
    ┌─────────────────────────────────┐
    │ 🎬 레전드 (Legend, 2015)        │
    │ 감독: 브라이언 헬겔랜드          │
    │ 출연: 톰 하디 (1인 2역)         │
    │ 장르: 범죄, 느와르              │
    │ 줄거리: 1960년대 런던...        │
    │                                 │
    │ 📝 내 감상                      │
    │ 톰 하디의 슈트핏과 담배 피우는   │
    │ 장면이 인상적이었다. 1인 2역     │
    │ 연기가 압도적.                   │
    │                                 │
    │ 🏷️ #느와르 #톰하디 #슈트핏      │
    │    #범죄영화 #실화바탕           │
    └─────────────────────────────────┘
  - 시맨틱 인덱싱: "슈트핏 멋있는 느와르 영화" → 검색 가능
```

---

## 3. 핵심 기능 상세

### 3.1 비정형 텍스트 입력 & 토픽 추출

**입력 시나리오들:**

| 입력 | 추출 토픽 | 클러스터 |
|------|----------|---------|
| "레전드라는 영화봄 톰하디 개멋있음" | 영화, 레전드, 톰하디, 감상 | 엔터테인먼트 > 영화 |
| "오늘 을지로 힙한 카페 갔는데 크로플 맛있었음 근데 커피는 별로" | 카페, 을지로, 크로플, 커피 | 라이프 > 맛집/카페 |
| "리액트에서 useEffect 의존성 배열 빈배열로 하면 마운트때만 실행됨 이거 자꾸 까먹음" | React, useEffect, 의존성배열 | 개발 > React > Hooks |
| "오늘 헬스장에서 벤치프레스 80kg 5x5 성공 드디어" | 운동, 벤치프레스, 기록 | 라이프 > 운동 > 웨이트 |

**복합 입력 (하나의 텍스트에 여러 주제):**
```
입력: "오늘 레전드라는 영화봤는데 톰하디 개멋있었고
       그리고 저녁에 을지로 가서 크로플 먹었는데
       맛집 이름은 기억안나는데 골목 안쪽이었음
       아 그리고 리액트 프로젝트에서 useEffect 버그 잡음"

→ 3개의 토픽으로 분리:
  1. 영화 - 레전드 → [엔터테인먼트 > 영화]
  2. 카페/맛집 - 을지로 크로플 → [라이프 > 맛집]
  3. 개발 - React useEffect → [개발 > React]
```

### 3.2 자동 클러스터링 시스템

클러스터는 사용자의 기록이 쌓이면서 **자동으로 진화**한다.

```
초기 상태: (빈 상태)

첫 입력 후:
└── 엔터테인먼트
    └── 영화
        └── 레전드 (2015)

10개 입력 후:
├── 엔터테인먼트
│   ├── 영화
│   │   ├── 느와르/범죄 ← 자동 생성된 하위 클러스터
│   │   │   └── 레전드 (2015)
│   │   └── SF
│   │       └── 인터스텔라 (2014)
│   └── 음악
│       └── 힙합
├── 라이프
│   ├── 맛집
│   │   └── 을지로
│   └── 운동
│       └── 웨이트
└── 개발
    └── React
        └── Hooks
```

**클러스터링 규칙:**
- 같은 카테고리 항목이 3개 이상 → 하위 클러스터 자동 생성
- 기존 클러스터에 매칭되지 않는 항목 → 새 클러스터 생성
- 사용자가 수동으로 클러스터 병합/분리 가능

### 3.3 웹 검색 기반 정보 보강

토픽에 따라 **자동으로 검색할 정보가 달라진다:**

| 토픽 유형 | 자동 수집 정보 |
|----------|--------------|
| 영화 | 감독, 출연진, 장르, 줄거리, 평점, 개봉일, 포스터 |
| 책 | 저자, 출판사, 줄거리, 장르, 페이지수, ISBN |
| 음악 | 아티스트, 앨범, 장르, 발매일, 가사 |
| 맛집/카페 | 위치, 메뉴, 영업시간, 가격대, 지도 |
| 개발 | 공식 문서 링크, 예제 코드, 관련 라이브러리 |
| 운동 | 운동 부위, 올바른 자세, 평균 기록 비교 |
| 장소/여행 | 위치, 관광 정보, 날씨, 교통 |

### 3.4 AI 감상평 구체화

사용자의 짧고 감성적인 표현을 **맥락을 추론**해서 구체화한다.

```
입력: "톰하디 개멋있음"

AI 추론 과정:
1. 영화 '레전드'에서 톰 하디는 크레이 쌍둥이를 연기
2. 슈트를 입고 등장하는 장면이 많음 (갱스터 영화)
3. "멋있다"의 맥락 → 외모/스타일/연기력
4. 느와르 영화 + 멋있다 → 슈트핏, 담배, 카리스마

구체화 결과:
"톰 하디의 슈트핏과 담배 피우는 장면이 인상적이었다.
 한 사람이 쌍둥이를 연기하면서 완전히 다른 카리스마를
 보여주는 1인 2역이 압도적이었다."
```

**중요:** AI가 구체화한 내용은 원본과 구분되어 표시되며, 사용자가 수정/삭제 가능

```
📝 원본 기록: "톰하디 개멋있음"
🤖 AI 구체화: "톰 하디의 슈트핏과 담배 피우는 장면이..."
    [✓ 맞아] [✗ 아니야] [✏️ 수정]
```

### 3.5 시맨틱 검색 & 기억 회상

핵심 시나리오: **정확한 정보를 모르는데도 찾을 수 있다**

```
검색: "아 그때 무슨 느와르영환데 슈트핏이 멋있는 그런영화가 있었는데?"

검색 과정:
1. 키워드 추출: 느와르, 슈트핏, 멋있는, 영화
2. 시맨틱 유사도 검색:
   - "레전드" 문서에 "느와르", "슈트핏", "멋있다" 관련 내용 있음
   - 유사도 95% 매칭
3. 결과:

┌─────────────────────────────────────────┐
│ 🔍 이거 말하는 거 아닌가요?              │
│                                         │
│ 🎬 레전드 (Legend, 2015)                │
│ 2026.02.15에 기록함                      │
│                                         │
│ 당신이 "톰하디 개멋있음"이라고 했었고,   │
│ AI가 슈트핏과 느와르 분위기에 대해        │
│ 구체화했었습니다.                         │
│                                         │
│ [맞아 이거!] [아닌데...]                 │
└─────────────────────────────────────────┘
```

---

## 4. 사용자 경험 (UX) 플로우

### 4.1 메인 입력 플로우

```
┌──────────────────────────────────────────┐
│                 JARVIS                    │
│                                          │
│  ┌──────────────────────────────────┐    │
│  │ 오늘 뭐 했어? 아무거나 적어봐... │    │
│  │                                  │    │
│  │ 레전드라는 영화봄 톰하디         │    │
│  │ 개멋있음 그리고 저녁에           │    │
│  │ 을지로 가서 크로플 먹었는데      │    │
│  │ 맛있었음                         │    │
│  │                                  │    │
│  └──────────────────────────────────┘    │
│                              [보내기 →]   │
│                                          │
│  ─── 처리 중... ─────────────────────    │
│                                          │
│  📋 2개 토픽을 찾았어요                   │
│                                          │
│  ┌─ 🎬 영화: 레전드 ──────────────┐     │
│  │ 정보 수집 완료                   │     │
│  │ 감상평 구체화 완료               │     │
│  │               [확인] [수정]      │     │
│  └──────────────────────────────────┘    │
│                                          │
│  ┌─ 🍽️ 맛집: 을지로 크로플 ───────┐     │
│  │ 위치 추정: 을지로 3가 일대       │     │
│  │               [확인] [수정]      │     │
│  └──────────────────────────────────┘    │
│                                          │
└──────────────────────────────────────────┘
```

### 4.2 검색 플로우

```
┌──────────────────────────────────────────┐
│  🔍 "슈트핏 멋있는 느와르 영화"          │
│                                          │
│  ─── 검색 결과 ──────────────────────    │
│                                          │
│  🎬 레전드 (2015) ──── 매칭 95%          │
│  📅 2026.02.15 기록                       │
│  💬 "톰하디 개멋있음"                     │
│  🤖 슈트핏과 느와르 분위기가 인상적       │
│                                          │
│  ────────────────────────────────────    │
│                                          │
│  💡 혹시 이런 것도 찾고 있나요?           │
│  - 🎬 대부 (1972) - 유사 장르            │
│  - 🎬 굿펠라즈 (1990) - 유사 장르        │
│     (아직 기록은 없지만 추천)             │
│                                          │
└──────────────────────────────────────────┘
```

### 4.3 타임라인 뷰

```
┌──────────────────────────────────────────┐
│  📅 2026년 2월                            │
│                                          │
│  24일 ─ 🎬 레전드 (영화)                  │
│         🍽️ 을지로 크로플 (맛집)           │
│                                          │
│  22일 ─ 💻 React useEffect 정리 (개발)   │
│                                          │
│  20일 ─ 🏋️ 벤치프레스 80kg 달성 (운동)   │
│         📚 원씽 완독 (독서)               │
│                                          │
│  18일 ─ 🎵 뉴진스 신곡 (음악)             │
│                                          │
└──────────────────────────────────────────┘
```

---

## 5. 데이터 모델

### 5.1 Entry (기록 단위)

```
Entry {
  id: UUID
  raw_input: string          // 원본 입력 텍스트
  created_at: timestamp
  updated_at: timestamp

  // 추출된 정보
  topics: Topic[]            // 추출된 토픽들
  cluster_id: UUID           // 소속 클러스터

  // 보강된 정보
  enriched_data: JSON        // 웹 검색으로 수집한 정보

  // 감상/의견
  user_opinion_raw: string   // 원본 감상
  ai_opinion_expanded: string // AI 구체화 감상
  opinion_confirmed: boolean  // 사용자 확인 여부

  // 검색용
  embedding: vector          // 시맨틱 검색용 임베딩
  tags: string[]             // 자동 생성된 태그
}
```

### 5.2 Cluster (분류 단위)

```
Cluster {
  id: UUID
  name: string              // "영화", "느와르/범죄" 등
  parent_id: UUID?           // 상위 클러스터
  depth: number              // 트리 깊이
  auto_generated: boolean    // 자동 생성 여부

  description: string        // 클러스터 설명
  entry_count: number        // 소속 엔트리 수

  // 클러스터 대표 임베딩
  centroid_embedding: vector
}
```

### 5.3 Topic (토픽 단위)

```
Topic {
  id: UUID
  name: string              // "톰 하디", "레전드", "슈트핏"
  type: enum                // PERSON, WORK, PLACE, CONCEPT, EMOTION, etc.
  confidence: float         // 추출 신뢰도

  // 관계
  related_topics: Topic[]   // 연관 토픽
  entry_id: UUID            // 소속 엔트리
}
```

---

## 6. 시스템 파이프라인

### 6.1 입력 처리 파이프라인

```
사용자 입력
    │
    ▼
┌─────────────────┐
│ 1. 전처리        │  구어체 → 문어체 정규화
│    (NLP)         │  오타 교정, 약어 확장
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ 2. 토픽 추출     │  Named Entity Recognition
│    (LLM)        │  주제/감정/의견 분리
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ 3. 복합 토픽     │  하나의 입력 → 여러 토픽 분리
│    분리          │  각 토픽별 독립 처리
└────────┬────────┘
         │
    ┌────┴────┐
    ▼         ▼
┌────────┐ ┌────────┐
│토픽 A  │ │토픽 B  │  (병렬 처리)
└───┬────┘ └───┬────┘
    │          │
    ▼          ▼
┌─────────────────┐
│ 4. 클러스터      │  기존 클러스터와 유사도 비교
│    매칭          │  매칭 or 새 클러스터 생성
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ 5. 웹 검색       │  토픽 유형에 맞는 정보 수집
│    & 보강        │  영화정보, 맛집정보 등
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ 6. 감상평        │  사용자 감상 + 영화 맥락
│    구체화        │  → AI 추론으로 확장
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ 7. 임베딩 생성   │  문서 전체 + 태그 + 감상
│    & 인덱싱      │  → 벡터 DB 저장
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ 8. 문서 생성     │  구조화된 문서 생성
│    & 저장        │  사용자에게 확인 요청
└─────────────────┘
```

### 6.2 검색 파이프라인

```
사용자 검색 쿼리
"슈트핏 멋있는 느와르 영화"
    │
    ▼
┌─────────────────┐
│ 1. 쿼리 분석     │  의도 파악 + 키워드 추출
│                  │  "회상형" 검색 감지
└────────┬────────┘
         │
    ┌────┴────┐
    ▼         ▼
┌────────┐ ┌────────┐
│시맨틱  │ │키워드  │  (병렬 검색)
│검색    │ │검색    │
└───┬────┘ └───┬────┘
    │          │
    ▼          ▼
┌─────────────────┐
│ 2. 결과 병합     │  양쪽 결과 통합 + 랭킹
│    & 랭킹        │
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ 3. 컨텍스트      │  "당신이 그때 이렇게 말했었고..."
│    생성          │  회상 내러티브 구성
└────────┬────────┘
         │
         ▼
┌─────────────────┐
│ 4. 추천          │  유사한 미기록 항목 추천
│    (선택적)      │  "이것도 좋아할 수도?"
└─────────────────┘
```

---

## 7. 차별화 포인트

### vs 노션 (Notion)
| | 노션 | JARVIS |
|---|------|--------|
| 입력 방식 | 구조화된 입력 필요 | 아무렇게나 던지면 됨 |
| 분류 | 수동 카테고리 | 자동 클러스터링 |
| 정보 수집 | 직접 검색 & 복붙 | 자동 웹 검색 보강 |
| 검색 | 키워드 일치 | 시맨틱 (흐릿한 기억 OK) |
| 감상 | 그대로 저장 | AI가 구체화 |

### vs ChatGPT / AI 챗봇
| | AI 챗봇 | JARVIS |
|---|---------|--------|
| 데이터 소유 | 대화 기록에 묻힘 | 구조화된 개인 DB |
| 검색 | 이전 대화 찾기 어려움 | 시맨틱 검색 특화 |
| 축적 | 매 세션 리셋 | 영구 축적 & 진화 |
| 분류 | 없음 | 자동 클러스터링 |

### vs 일기 앱
| | 일기 앱 | JARVIS |
|---|--------|--------|
| 입력 부담 | 매일 써야 함 | 한줄도 OK |
| 정보 보강 | 없음 | 자동 |
| 회상 | 날짜로만 검색 | 기억 조각으로 검색 |

---

## 8. 향후 확장 가능성

### Phase 1: MVP (핵심 기능)
- 텍스트 입력 → 토픽 추출 → 클러스터링
- 웹 검색 보강 (영화, 음악, 책 위주)
- 기본 시맨틱 검색
- 간단한 웹 UI

### Phase 2: 고도화
- AI 감상평 구체화 + 피드백 루프
- 음성 입력 지원 ("시리야" 대신 "자비스")
- 타임라인 뷰 & 대시보드
- 사진/스크린샷 입력 (OCR + 이미지 분석)

### Phase 3: 소셜 & 추천
- 친구와 기록 공유 (예: 영화 추천)
- 취향 분석 리포트 ("당신은 느와르 영화를 좋아합니다")
- 개인화 추천 ("이 영화도 좋아할 것 같아요")
- 연말 회고 자동 생성

### Phase 4: 라이프로그
- 위치 기반 자동 기록
- 캘린더/사진앨범 연동
- 건강 데이터 연동 (운동, 수면)
- "1년 전 오늘" 회상 알림
